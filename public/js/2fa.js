(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{Zd3P:function(t,r,e){"use strict";e.r(r);var a=e("o0o1"),o=e.n(a),n=e("fpkf"),s=e("4HBT"),i=e.n(s);function l(t,r,e,a,o,n,s){try{var i=t[n](s),l=i.value}catch(t){return void e(t)}i.done?r(l):Promise.resolve(l).then(a,o)}var u,c,m={middleware:["auth","verified","2fa_not_passed"],mixins:[e("C3Ci").a],metaInfo:function(){return{title:this.$t("Two-factor authentication")}},data:function(){return{formIsValid:null,form:new i.a({one_time_password:null})}},computed:{appLogoUrl:function(){return Object(n.a)("app.logo")}},methods:{verify:(u=o.a.mark((function t(){var r,e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.form.post("/api/user/security/2fa/verify");case 2:r=t.sent,e=r.data,this.$store.dispatch("auth/updateUser",e),this.$router.push({name:"home"});case 6:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,r=arguments;return new Promise((function(e,a){var o=u.apply(t,r);function n(t){l(o,e,a,n,s,"next",t)}function s(t){l(o,e,a,n,s,"throw",t)}n(void 0)}))},function(){return c.apply(this,arguments)})}},d=e("KHd+"),f=e("ZUTo"),p=e.n(f),v=e("ghKu"),h=e("gzZi"),_=e("sK+t"),w=e("mdmw"),V=e("Yq0q"),b=e("pSOK"),y=e("S9TP"),g=e("rdoz"),x=e("D9m0"),T=e("L6Q5"),C=e("hlRy"),k=e("cdmR"),$=e("Kn9U"),I=Object(d.a)(m,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[e("v-card",{staticClass:"elevation-12"},[e("v-toolbar",{attrs:{color:"primary"}},[e("router-link",{attrs:{to:{name:"home"}}},[e("v-avatar",{attrs:{size:"40",tile:""}},[e("v-img",{attrs:{src:t.appLogoUrl}})],1)],1),t._v(" "),e("v-toolbar-title",{staticClass:"ml-2"},[t._v("\n            "+t._s(t.$t("Two-factor authentication"))+"\n          ")]),t._v(" "),e("v-spacer")],1),t._v(" "),e("v-card-text",[e("v-form",{on:{submit:function(r){return r.preventDefault(),t.verify(r)}},model:{value:t.formIsValid,callback:function(r){t.formIsValid=r},expression:"formIsValid"}},[e("v-text-field",{attrs:{label:t.$t("One-time password"),type:"text",name:"one_time_password",rules:[t.validationRequired,function(r){return t.validationMinLength(r,6)}],error:t.form.errors.has("one_time_password"),"error-messages":t.form.errors.get("one_time_password"),outlined:""},on:{keydown:function(r){return t.clearFormErrors(r,"one_time_password",t.form)}},model:{value:t.form.one_time_password,callback:function(r){t.$set(t.form,"one_time_password",r)},expression:"form.one_time_password"}}),t._v(" "),e("v-btn",{attrs:{type:"submit",color:"primary",disabled:!t.formIsValid||t.form.busy,loading:t.form.busy}},[t._v("\n              "+t._s(t.$t("Verify"))+"\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);r.default=I.exports;p()(I,{VAvatar:v.a,VBtn:h.a,VCard:_.a,VCardText:w.c,VCol:V.a,VContainer:b.a,VForm:y.a,VImg:g.a,VRow:x.a,VSpacer:T.a,VTextField:C.a,VToolbar:k.a,VToolbarTitle:$.a})}}]);
//# sourceMappingURL=2fa.js.map