(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{InnW:function(e,r,t){"use strict";t.r(r);var a=t("o0o1"),n=t.n(a),o=t("vDqi"),i=t.n(o),s=t("4HBT"),l=t.n(s);function c(e,r,t,a,n,o,i){try{var s=e[o](i),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(a,n)}function d(e){return function(){var r=this,t=arguments;return new Promise((function(a,n){var o=e.apply(r,t);function i(e){c(o,a,n,i,s,"next",e)}function s(e){c(o,a,n,i,s,"throw",e)}i(void 0)}))}}var m,u,f={middleware:["auth","verified","2fa_passed","admin"],metaInfo:function(){return{title:this.$t("License registration")}},mixins:[t("C3Ci").a],data:function(){return{form:new l.a({code:null,email:null}),loaded:!1}},created:(u=d(n.a.mark((function e(){var r,t,a,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/admin/license");case 2:r=e.sent,t=r.data,a=t.code,o=t.email,this.form.code=a,this.form.email=o,this.loaded=!0;case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),methods:{register:(m=d(n.a.mark((function e(){var r,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.form.submit("post","/api/admin/license");case 2:r=e.sent,t=r.data,this.$store.dispatch("message/"+(t.success?"success":"error"),{text:t.message});case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})}},v=t("KHd+"),p=t("ZUTo"),h=t.n(p),b=t("gzZi"),g=t("sK+t"),w=t("mdmw"),x=t("Yq0q"),y=t("pSOK"),V=t("S9TP"),k=t("D9m0"),_=t("MSko"),$=t("hlRy"),C=t("cdmR"),T=t("Kn9U"),I=Object(v.a)(f,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-card",[t("v-toolbar",[t("v-toolbar-title",[e._v("\n            "+e._s(e.$t("License registration"))+"\n          ")])],1),e._v(" "),t("v-card-text",[t("v-form",{on:{submit:function(r){return r.preventDefault(),e.register(r)}},model:{value:e.formIsValid,callback:function(r){e.formIsValid=r},expression:"formIsValid"}},[t("v-skeleton-loader",{staticClass:"mt-7",attrs:{type:"heading",loading:!e.loaded}},[t("v-text-field",{attrs:{label:e.$t("Purchase code"),type:"text",name:"code",rules:[e.validationRequired],error:e.form.errors.has("code"),"error-messages":e.form.errors.get("code"),outlined:""},on:{keydown:function(r){return e.clearFormErrors(r,"code")}},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}})],1),e._v(" "),t("v-skeleton-loader",{staticClass:"mt-7 mb-7",attrs:{type:"heading",loading:!e.loaded}},[t("v-text-field",{attrs:{label:e.$t("Licensee email"),type:"email",name:"email",rules:[e.validationRequired,e.validationEmail],error:e.form.errors.has("email"),"error-messages":e.form.errors.get("email"),outlined:""},on:{keydown:function(r){return e.clearFormErrors(r,"email")}},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("v-btn",{attrs:{type:"submit",color:"primary",disabled:!e.formIsValid||e.form.busy,loading:e.form.busy}},[e._v("\n              "+e._s(e.$t("Register"))+"\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);r.default=I.exports;h()(I,{VBtn:b.a,VCard:g.a,VCardText:w.c,VCol:x.a,VContainer:y.a,VForm:V.a,VRow:k.a,VSkeletonLoader:_.a,VTextField:$.a,VToolbar:C.a,VToolbarTitle:T.a})}}]);
//# sourceMappingURL=admin-license.js.map