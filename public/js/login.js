(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"1TUg":function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled {\n  opacity: 0.6;\n}",""])},"4JY7":function(t,e,r){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var i=function(){var t=!1,e=[];return{resolved:function(){return t},resolve:function(r){if(!t){t=!0;for(var n=0,i=e.length;n<i;n++)e[n](r)}},promise:{then:function(r){t?r():e.push(r)}}}},o=Object.prototype.hasOwnProperty;var a,s=(a=i(),{notify:function(){a.resolve()},wait:function(){return a.promise},render:function(t,e,r){this.wait().then((function(){r(window.grecaptcha.render(t,e))}))},reset:function(t){void 0!==t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(t)})))},execute:function(t){void 0!==t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(t)})))},checkRecaptchaLoad:function(){o.call(window,"grecaptcha")&&o.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!a.resolved())throw new Error("ReCAPTCHA has not been loaded")}});"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=s.notify);var c={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var t=document.createElement("script");t.id=this.recaptchaScriptId,t.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,t.async=!0,t.defer=!0,document.head.appendChild(t)}},mounted:function(){var t=this;s.checkRecaptchaLoad();var e=n({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),r=this.$slots.default?this.$el.children[0]:this.$el;s.render(r,e,(function(e){t.$widgetId=e,t.$emit("render",e)}))},methods:{reset:function(){s.reset(this.$widgetId)},execute:function(){s.execute(this.$widgetId)},emitVerify:function(t){this.$emit("verify",t)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(t){return t("div",{},this.$slots.default)}};e.a=c},Fl2b:function(t,e,r){"use strict";var n,i,o=r("o0o1"),a=r.n(o),s=r("fpkf"),c=r("ZXch"),u=r("L2JU");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){d(o,n,i,a,s,"next",t)}function s(t){d(o,n,i,a,s,"throw",t)}a(void 0)}))}}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===l(t)&&(r=t,t=""),r=f({url:t,title:e,width:600,height:720},r);var n=void 0!==window.screenLeft?window.screenLeft:window.screen.left,i=void 0!==window.screenTop?window.screenTop:window.screen.top,o=window.innerWidth||document.documentElement.clientWidth||window.screen.width,a=window.innerHeight||document.documentElement.clientHeight||window.screen.height;r.left=o/2-r.width/2+n,r.top=a/2-r.height/2+i;var s=Object.keys(r).reduce((function(t,e){return t.push("".concat(e,"=").concat(r[e])),t}),[]).join(","),c=window.open(t,e,s);return window.focus&&c.focus(),c}var w={name:"OAuth",computed:f({},Object(u.d)("auth",["user"]),{providers:function(){return Object(s.a)("oauth")},providersCount:function(){return this.providers?Object.keys(this.providers).length:0}}),mounted:function(){window.addEventListener("message",this.onMessage,!1)},beforeDestroy:function(){window.removeEventListener("message",this.onMessage)},methods:{ucfirst:c.n,loginWith:(i=h(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=v("",this.$t("Log in with {0}",[e])),t.next=3,this.$store.dispatch("auth/fetchOAuthRedirectUrl",{provider:e});case 3:r.location.href=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),onMessage:(n=h(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.origin===window.origin&&e.data.user){t.next=2;break}return t.abrupt("return");case 2:this.$store.dispatch("auth/updateUser",e.data.user),this.user.two_factor_auth_enabled&&!this.user.two_factor_auth_passed?this.$router.push({name:"2fa"}):this.$router.push({name:"home"});case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}},b=r("KHd+"),g=r("ZUTo"),y=r.n(g),x=r("gzZi"),O=r("Yq0q"),k=r("zn5u"),_=r("Ey0z"),$=r("D9m0"),j=r("Oi+f"),P=Object(b.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.providersCount?r("v-row",[r("v-col",{staticClass:"text-center"},[t._l(t.providers,(function(e,n){return r("v-btn",{key:n,staticClass:"mx-2",attrs:{fab:"",icon:"",elevation:"5"},on:{click:function(e){return t.loginWith(n)}}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var o=i.on;return[r("v-icon",t._g({attrs:{large:""}},o),[t._v("\n            mdi-"+t._s(e.mdi||n)+"\n          ")])]}}],null,!0)},[t._v(" "),r("span",[t._v(t._s(t.$t("Log in with {0}",[t.ucfirst(n)])))])])],1)})),t._v(" "),r("v-divider",{staticClass:"my-7"})],2)],1):t._e()}),[],!1,null,null,null);e.a=P.exports;y()(P,{VBtn:x.a,VCol:O.a,VDivider:k.a,VIcon:_.a,VRow:$.a,VTooltip:j.a})},PExn:function(t,e,r){"use strict";r.r(e);var n=r("o0o1"),i=r.n(n),o=r("vDqi"),a=r.n(o),s=r("fpkf"),c=r("4HBT"),u=r.n(c),l=r("C3Ci"),d=r("Fl2b"),h=r("L2JU"),p=r("4JY7");function f(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var w,b,g={middleware:"guest",components:{OAuth:d.a,VueRecaptcha:p.a},mixins:[l.a],metaInfo:function(){return{title:this.$t("Authentication")}},data:function(){return{csrfCookieRetrieved:!1,showPassword:!1,form:new u.a({email:null,password:null,remember:"",recaptcha:null})}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(h.d)("auth",["user"]),{appLogoUrl:function(){return Object(s.a)("app.logo")},recaptchaPublicKey:function(){return Object(s.a)("services.recaptcha.public_key")}}),methods:{login:(w=i.a.mark((function t(){var e,r,n=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.csrfCookieRetrieved){t.next=4;break}return t.next=3,a.a.get("/sanctum/csrf-cookie");case 3:this.csrfCookieRetrieved=!0;case 4:return t.next=6,this.form.post("/api/auth/login").catch((function(){return n.recaptchaPublicKey&&(n.form.recaptcha=null,n.$refs.recaptcha.reset()),{}}));case 6:e=t.sent,(r=e.data)&&(this.$store.dispatch("auth/updateUser",r),this.user.two_factor_auth_enabled&&!this.user.two_factor_auth_passed?this.$router.push({name:"2fa"}):this.$router.push({name:"home"}));case 9:case"end":return t.stop()}}),t,this)})),b=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=w.apply(t,e);function o(t){f(i,r,n,o,a,"next",t)}function a(t){f(i,r,n,o,a,"throw",t)}o(void 0)}))},function(){return b.apply(this,arguments)})}},y=r("KHd+"),x=r("ZUTo"),O=r.n(x),k=r("ghKu"),_=r("gzZi"),$=r("sK+t"),j=r("mdmw"),P=(r("bKfa"),r("7ClH"),r("nSar")),S=r("w3qa"),C=r("/gkr").a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...S.a.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.disabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs$,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.validationState)),this.$createElement(P.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon)])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),I=r("Yq0q"),E=r("pSOK"),V=r("S9TP"),R=r("rdoz"),T=r("D9m0"),L=r("hlRy"),D=r("cdmR"),A=r("Kn9U"),K=Object(y.a)(g,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary"}},[r("router-link",{attrs:{to:{name:"home"}}},[r("v-avatar",{attrs:{size:"40",tile:""}},[r("v-img",{attrs:{src:t.appLogoUrl}})],1)],1),t._v(" "),r("v-toolbar-title",{staticClass:"ml-2"},[t._v("\n            "+t._s(t.$t("Authentication"))+"\n          ")])],1),t._v(" "),r("v-card-text",[r("o-auth"),t._v(" "),r("v-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}},model:{value:t.formIsValid,callback:function(e){t.formIsValid=e},expression:"formIsValid"}},[r("v-text-field",{attrs:{label:t.$t("Email"),type:"email",name:"email",rules:[t.validationRequired,t.validationEmail],error:t.form.errors.has("email"),"error-messages":t.form.errors.get("email"),outlined:""},on:{keydown:t.clearFormErrors},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),r("v-text-field",{attrs:{label:t.$t("Password"),"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",name:"password",rules:[t.validationRequired],error:t.form.errors.has("password"),"error-messages":t.form.errors.get("password"),outlined:"",counter:""},on:{"click:append":function(e){t.showPassword=!t.showPassword},keydown:t.clearFormErrors},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),r("v-checkbox",{attrs:{name:"remember",label:t.$t("Remember me"),color:"primary","true-value":"1","false-value":""},model:{value:t.form.remember,callback:function(e){t.$set(t.form,"remember",e)},expression:"form.remember"}}),t._v(" "),t.recaptchaPublicKey?r("vue-recaptcha",{ref:"recaptcha",staticClass:"mb-3",attrs:{sitekey:t.recaptchaPublicKey,loadRecaptchaScript:!0,theme:this.$vuetify.theme.isDark?"dark":"light"},on:{verify:function(e){return t.form.recaptcha=e}}}):t._e(),t._v(" "),r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"text-center text-md-left"},[r("v-btn",{attrs:{type:"submit",color:"primary",disabled:!t.formIsValid||t.form.busy||!!t.recaptchaPublicKey&&!t.form.recaptcha,loading:t.form.busy}},[t._v("\n                  "+t._s(t.$t("Log in"))+"\n                ")])],1),t._v(" "),r("v-col",{staticClass:"text-center text-md-right"},[r("router-link",{attrs:{to:{name:"password.email"}}},[t._v("\n                  "+t._s(t.$t("Forgot password?"))+"\n                ")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=K.exports;O()(K,{VAvatar:k.a,VBtn:_.a,VCard:$.a,VCardText:j.c,VCheckbox:C,VCol:I.a,VContainer:E.a,VForm:V.a,VImg:R.a,VRow:T.a,VTextField:L.a,VToolbar:D.a,VToolbarTitle:A.a})},bKfa:function(t,e,r){var n=r("1TUg");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,i);n.locals&&(t.exports=n.locals)}}]);
//# sourceMappingURL=login.js.map